{% extends "edit_course/edit_course_base.html" %}
{% load i18n %}
{% load course %}
{% load bootstrap %}

{% block edittitle %}{% trans "Add submission deviations" %}{% endblock %}
{% block view_tag %}edit-course,deviations{% endblock %}
{% block coursecontent %}
<div class="alert alert-danger clearfix site-message" role="alert">
  {% trans "Some of the deviations already existed! Please select the deviations you want to override!" %}
</div>
<form method="post" class="well form-horizontal">
      {% csrf_token %}
<div class="panel panel-primary">
	<div class="panel-heading">
	  <h3 class="panel-title">{% trans "Select deviations to be overridden" %}</h3>
	</div>
	<table class="table table-striped table-bordered table-condensed">
    <tr>
      <th>{% trans "Submitter" %}</th>
      <th>{% trans "Exercise" %}</th>
      <th>{% trans "Current extra submissions" %}</th>
      <th>{% trans "New extra submissions" %}</th>
      <th>{% trans "Override" %}</th>
    </tr>
    {% for deviation in deviations %}
    <tr>
      <td>{{ deviation.submitter }}</td>
      <td>{{ deviation.exercise }}</td>
      <td>{{ deviation.extra_submissions }}</td>
      <td>{{ bonus_submissions }}</td>
      <td>
        <input type="checkbox" name="override" value="{{ deviation.exercise.id }}-{{ deviation.submitter.id }}" checked>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="4">{% trans "No submission deviations." %}</td>
    </tr>
    {% endfor %}
	</table>
</div>
<br/>
    <div class="form-group">
      <div class="col-sm-10 col-sm-offset-2">
        <button type="submit" class="btn btn-primary">{% trans 'Submit' %}</button>
      </div>
    </div>
</form>
{% endblock %}
